## query-work.md

### General
- 요청했을 때, 답변이 너무 오래 돌아오지 않는 경우 용량이 매우 큰 것임으로 이는 높은 비용과 서비스 악화의 원인이 될 수 있습니다.
- 그러므로, 실행하기에 앞서 실행할 쿼리가 어느 정도 크기일 것인지 가늠해보고 만약 기대하는 것보다 너무 오래걸린다고 하면 명시적으로 해당 쿼리를 중단하시오.
- 쿼리의 용량을 가늠하기 어려운 경우, 일단 중단해서 과도한 비용이나 처리 쿼타가 넘지 않도록 하고, 사용자에게 이 문제에 대해서 다시 질문해주세요. 

### Bigquery
- partitioned table의 경우, limit을 건다고 용량이나 처리 시간을 줄일 수 있는 것이 아님으로 where을 통해 partitioned를 최대한 활용할 수 있도록 한다.
- 빅쿼리는 dry run이나 explain 같은 방법을 통해서 실제 쿼리를 실행하지 않고 실행할 쿼리의 용량을 알 수 있습니다.
- 쿼리를 실행하기 전에 무조건 쿼리의 실제 크기를 확인하고, 쿼리의 크기가 비정상적으로 큰 경우, 해당 쿼리는 정상적으로 작성된 쿼리가 아닙니다.
- 그러므로 사용자에게 해당 쿼리를 조회하는게 맞는지 다시 확인하고, 절대 용량이 큰 쿼리를 허가 없이 실행하지 마세요.
